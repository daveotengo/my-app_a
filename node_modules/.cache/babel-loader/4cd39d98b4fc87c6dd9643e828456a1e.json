{"ast":null,"code":"var _jsxFileName = \"/Users/daveotengo/Desktop/git/react/my-app_a/src/hoc/withErrorHandler/withErrorHandler.js\";\nimport React from 'react';\nimport Modal from '../../components/UI/Modal/Modal';\nimport Aux from '../Aux';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst withErrorHandler = (WrappedComponent, axios) => {\n  //anonymous class\n  return class extends React.Component {\n    constructor() {\n      super(...arguments);\n      this.state = {\n        error: null\n      };\n\n      this.errorConfirmedHandler = () => {\n        this.setState({\n          error: null\n        });\n      };\n    }\n\n    componentWillMount() {\n      this.requestInterceptor = axios.interceptors.request.use(req => {\n        this.setState({\n          error: null\n        });\n        return req;\n      });\n      this.responseInterceptor = axios.interceptors.response.use(null, error => {\n        //error set by Firebase\n        this.setState({\n          error: error\n        });\n      });\n    }\n\n    componentWillUnmount() {\n      axios.interceptors.request.eject(this.requestInterceptor);\n      axios.interceptors.response.eject(this.responseInterceptor);\n    }\n\n    render() {\n      return /*#__PURE__*/_jsxDEV(Aux, {\n        children: [/*#__PURE__*/_jsxDEV(Modal, {\n          show: this.state.error,\n          modalClosed: this.errorConfirmedHandler,\n          children: this.state.error ? this.state.error.message : null\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 34,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(WrappedComponent, { ...this.props\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 7\n      }, this);\n    }\n\n  };\n};\n\nexport default withErrorHandler;","map":{"version":3,"sources":["/Users/daveotengo/Desktop/git/react/my-app_a/src/hoc/withErrorHandler/withErrorHandler.js"],"names":["React","Modal","Aux","withErrorHandler","WrappedComponent","axios","Component","state","error","errorConfirmedHandler","setState","componentWillMount","requestInterceptor","interceptors","request","use","req","responseInterceptor","response","componentWillUnmount","eject","render","message","props"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,iCAAlB;AACA,OAAOC,GAAP,MAAgB,QAAhB;;;AAEA,MAAMC,gBAAgB,GAAG,CAACC,gBAAD,EAAmBC,KAAnB,KAA6B;AAEpD;AACA,SAAO,cAAcL,KAAK,CAACM,SAApB,CAA8B;AAAA;AAAA;AAAA,WACnCC,KADmC,GAC3B;AACNC,QAAAA,KAAK,EAAE;AADD,OAD2B;;AAAA,WAkBnCC,qBAlBmC,GAkBX,MAAM;AAC5B,aAAKC,QAAL,CAAc;AACZF,UAAAA,KAAK,EAAE;AADK,SAAd;AAGD,OAtBkC;AAAA;;AAInCG,IAAAA,kBAAkB,GAAE;AAClB,WAAKC,kBAAL,GAA0BP,KAAK,CAACQ,YAAN,CAAmBC,OAAnB,CAA2BC,GAA3B,CAA+BC,GAAG,IAAI;AAC9D,aAAKN,QAAL,CAAc;AAACF,UAAAA,KAAK,EAAE;AAAR,SAAd;AACA,eAAOQ,GAAP;AACD,OAHyB,CAA1B;AAIA,WAAKC,mBAAL,GAA2BZ,KAAK,CAACQ,YAAN,CAAmBK,QAAnB,CAA4BH,GAA5B,CAAgC,IAAhC,EAAsCP,KAAK,IAAI;AACxE;AACA,aAAKE,QAAL,CAAc;AAACF,UAAAA,KAAK,EAAEA;AAAR,SAAd;AACD,OAH0B,CAA3B;AAID;;AACDW,IAAAA,oBAAoB,GAAE;AACpBd,MAAAA,KAAK,CAACQ,YAAN,CAAmBC,OAAnB,CAA2BM,KAA3B,CAAiC,KAAKR,kBAAtC;AACAP,MAAAA,KAAK,CAACQ,YAAN,CAAmBK,QAAnB,CAA4BE,KAA5B,CAAkC,KAAKH,mBAAvC;AACD;;AAMDI,IAAAA,MAAM,GAAE;AACN,0BACA,QAAC,GAAD;AAAA,gCACE,QAAC,KAAD;AACE,UAAA,IAAI,EAAE,KAAKd,KAAL,CAAWC,KADnB;AAEE,UAAA,WAAW,EAAE,KAAKC,qBAFpB;AAAA,oBAGG,KAAKF,KAAL,CAAWC,KAAX,GAAmB,KAAKD,KAAL,CAAWC,KAAX,CAAiBc,OAApC,GAA8C;AAHjD;AAAA;AAAA;AAAA;AAAA,gBADF,eAME,QAAC,gBAAD,OAAsB,KAAKC;AAA3B;AAAA;AAAA;AAAA;AAAA,gBANF;AAAA;AAAA;AAAA;AAAA;AAAA,cADA;AAUD;;AAlCkC,GAArC;AAoCD,CAvCD;;AAyCA,eAAepB,gBAAf","sourcesContent":["import React from 'react';\nimport Modal from '../../components/UI/Modal/Modal';\nimport Aux from '../Aux';\n\nconst withErrorHandler = (WrappedComponent, axios) => {\n\n  //anonymous class\n  return class extends React.Component {\n    state = {\n      error: null\n    }\n    componentWillMount(){\n      this.requestInterceptor = axios.interceptors.request.use(req => {\n        this.setState({error: null});\n        return req;\n      });\n      this.responseInterceptor = axios.interceptors.response.use(null, error => {\n        //error set by Firebase\n        this.setState({error: error});\n      });\n    }\n    componentWillUnmount(){\n      axios.interceptors.request.eject(this.requestInterceptor);\n      axios.interceptors.response.eject(this.responseInterceptor);\n    }\n    errorConfirmedHandler = () => {\n      this.setState({\n        error: null\n      });\n    }\n    render(){\n      return (\n      <Aux>\n        <Modal\n          show={this.state.error}\n          modalClosed={this.errorConfirmedHandler}>\n          {this.state.error ? this.state.error.message : null}\n        </Modal>\n        <WrappedComponent {...this.props} />\n      </Aux>\n      );\n    }\n  }\n}\n\nexport default withErrorHandler;\n"]},"metadata":{},"sourceType":"module"}